<!-- This page was created with the RAD auto-doc generator. -->
<!doctype html public "-//w3c//dtd html 3.2 final//en">
<html>
<head>
<title>DDK Function: 505H Protect/Unprotect Timbre</title>
<meta http-equiv="content-type" content="text/html; charset=iso8859-1">
<meta name="ms.locale" content="en-us">
<meta name="description" content="">
<meta name="ms-hkwd" content="DDK Function: 505H Protect/Unprotect Timbre">
<link rel="stylesheet" title="default" href="reference.css" type="text/css" media="screen">
</head>
<body topmargin="0">
<table cellspacing=0 cellpadding=0 class=bar width=100% height=25>
<tr class=bar>
<td class=bar>
<i>&nbsp;<a href="index.html" class=trn>Miles Sound System SDK 6.1c</a></i>
</td>
</tr>
</table>
<h1>DDK Function: 505H Protect/Unprotect Timbre</h1>
<h4>Discussion</h4>
<p> <b>Input:</b><br> </p><p> AX = 505H<br> BX = Driver number<br> CX = Bank (CH)/patch (CL) specifier to protect/unprotect<br> DX = 1: Protect timbre<br> DX = 0: Unprotect timbre </p><p><b>Output:</b><br> </p><p> AX = 1: Timbre was previously protected from deletion<br> AX = 0: Timbre was not previously protected from deletion </p><p>This function prevents timbre CX from being discarded from the synthesizer memory or local timbre cache ("protected"), or subjects the timbre to the action of the synthesizer's normal timbre replacement algorithm ("unprotected"). </p><p>If the synthesizer memory or local timbre cache does not contain sufficient space for a timbre to be installed by Function 503H (Install Timbre Set), one or more timbres (typically the timbre(s) least recently used to play notes) may be discarded from memory to make room. This function provides a means of protecting a given timbre against deletion, and of removing such protection. Neither function will have any immediate effect on the contents of timbre memory. </p><p>Timbres installed with Function 503H (Install Timbre Set) are "unprotected" by default. Timbre protection may be useful in cases where it is desirable to play little-used sound-effect or music sequences at widely varying intervals during the course of an application, while avoiding any delays associated with loading and transmitting their custom timbres. Excessive use of timbre protection may cause infinite loops to occur at runtime, since the caching mechanism may be forced to discard timbres which were requested and loaded earlier in the current call to Function 503H (Install Timbre Set). </p><p>If both the bank and patch specifiers are equal to -1 (CX = 0FFFFH), the function will protect or unprotect all timbres in the cache. </p><p>The action of this function is analogous to the Extended MIDI Control Change event 113 (Timbre Protect). Not all synthesizers which perform timbre management must support this function, however. </p><p>This function returns 0 if the previous timbre protection state is unknown. </p>
<p>
<br>
<b>Group:</b>
<a href="DOS XMIDI Sound Drivbjn2un.html">DOS XMIDI Sound Driver Interface</a></p>
<p align=center>
<a href="mailto:Miles@radgametools.com">For technical support, e-mail Miles@radgametools.com</a>
<br>
<a href="http://www.radgametools.com/miles.htm?from=help6.1c">&#169; Copyright 1991-2001 RAD Game Tools, Inc. All Rights Reserved.</a>
</p>
<br>
</body>
</html>
