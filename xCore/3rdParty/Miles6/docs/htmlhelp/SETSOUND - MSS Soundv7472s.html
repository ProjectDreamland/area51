<!-- This page was created with the RAD auto-doc generator. -->
<!doctype html public "-//w3c//dtd html 3.2 final//en">
<html>
<head>
<title>SETSOUND - MSS Sound Configuration Utility</title>
<meta http-equiv="content-type" content="text/html; charset=iso8859-1">
<meta name="ms.locale" content="en-us">
<meta name="description" content="">
<meta name="ms-hkwd" content="SETSOUND - MSS Sound Configuration Utility">
<link rel="stylesheet" title="default" href="reference.css" type="text/css" media="screen">
</head>
<body topmargin="0">
<table cellspacing=0 cellpadding=0 class=bar width=100% height=25>
<tr class=bar>
<td class=bar>
<i>&nbsp;<a href="index.html" class=trn>Miles Sound System SDK 6.1c</a></i>
</td>
</tr>
</table>
<h1>SETSOUND - MSS Sound Configuration Utility</h1>
<h4>Discussion</h4>
<p> The <b>SETSOUND</b> program may be distributed with MSS applications as an interactive sound driver installation and configuration utility. </p><p><b>SETSOUND</b> requires no command-line parameters. It is intended to be launched after the application's end-user installation program finishes executing, as well as anytime the end user wishes to reconfigure his/her sound options after installation is complete. To avoid memory problems inherent with spawned DOS-extended executables, it is advisable to launch <b>SETSOUND</b> as the last step in the application's INSTALL.BAT batch file, rather than through the use of the C <i>spawn</i> or <i>exec</i> functions. Alternately, <b>SETSOUND.C</b> can be compiled to <b>SETSOUND.OBJ</b> and bound at link time to the application's end-user installation program, simply by renaming <b>SETSOUND.C's</b> <i>main</i> function. </p><p>When executed, <b>SETSOUND</b> presents a series of self-explanatory configuration menus. These menus allow the user to select and configure a MIDI music or digital audio driver for use by the MSS application, or to disable sound and music entirely. When either the Select and configure MIDI music driver or Select and configure digital audio driver options are chosen, <b>SETSOUND</b> will scan the current working directory for all MSS .DIG or .MDI drivers and present a list of these drivers to the user. All MSS drivers which are shipped with the application appear on the selection list, along with any drivers which are added to the directory by the user himself. This powerful feature ensures that an application which uses <b>SETSOUND</b> as its sound configuration program will not become "obsolete" as new MSS drivers are released. In accordance with RAD Game Tools's guidelines for driver installation, <b>SETSOUND</b> makes no attempt to install any sound drivers to determine if the supported hardware is present. Instead, DOS environment information (including the <b>BLASTER, ULTRASND, and SNDSCAPE</b> environment variables, as well as the contents of <b>AUTOEXEC.BAT</b> and <b>CONFIG.SYS</b>) is used to help determine which driver should be the "default" choice when the selection menu is first presented. </p><p>If the selected driver accepts I/O configuration information, <b>SETSOUND</b> next displays a menu offering the user the ability to Attempt to configure sound driver automatically or Skip auto-detection and configure sound driver manually. No attempt is made to auto-detect devices without the user's permission, except in cases where the driver is able to determine the correct I/O configuration without manipulating the hardware directly. (For example, the Pro Audio Spectrum drivers are able to obtain I/O information from the Media Vision device driver <b>MVSOUND.SYS</b>, so the configuration menu does not appear when one of these drivers is selected.) If the manual configuration option is selected, a series of menus is presented to obtain the correct I/O address, IRQ setting, and/or DMA channel assignments for the supported device. Extensive error-checking and feedback is employed throughout the installation and configuration process to help reduce sound-related technical support issues. </p><p>When a driver is successfully selected and configured, <b>SETSOUND</b> creates a plain-text ASCII file (called <b>MDI.INI</b> for MIDI music drivers or <b>DIG.INI</b> for digital audio drivers) which specifies the driver name, device name, and I/O settings which correspond to the user's sound hardware choice. (An example <b>.INI</b> file is presented in the <a href="AIL_read_INI.html">AIL_read_INI</a> function description. If the </i>No MIDI music or No digital audio option</i> is selected, any existing <b>.INI</b> file is deleted entirely.) The <b>.INI</b> files created by <b>SETSOUND</b> are used by the <a href="AIL_install_DIG_INI.html">AIL_install_DIG_INI</a> and <a href="AIL_install_MDI_INI.html">AIL_install_MDI_INI</a> functions to load, configure, and initialize the digital audio and/or MIDI music driver selected by the user, with no additional effort on the part of the application program. </p><p>To distribute an application with <b>SETSOUND</b>, you must distribute <b>SETSOUND.EXE</b> and its "driver list file," <b>MSSDRVR.LST</b>, and its Window 9x configuration utility, <b>MSSW95.EXE</b>. These three files should all exist in the same directory. <b>MSSW95.EXE</b> is spawned by <b>SETSOUND</b> when running under a DOS box in Windows 9x. It can also be run from the command line to display the machine's Windows 9x configuration. </p><p><b>MSSDRVR.LST</b> is a text file which describes all "known" MSS drivers that existed when the current version of <b>SETSOUND</b> was created, and is used by <b>SETSOUND</b> to provide additional helpful information about each driver as the user scrolls through the selection menu. Drivers which are not listed in MSSDRVR.LST appear on the <b>SETSOUND</b> selection menu, but no supplemental information will be presented to the user for these drivers, and they cannot appear as the default choice in the selection menu. <b>SETSOUND</b> uses the current working directory for all of its file access, so all MSS drivers delivered with an application must be copied into a working subdirectory on the user's hard disk during installation, along with MSSDRVR.LST and (preferably) <b>SETSOUND.EXE</b> itself. The DIG.INI and MDI.INI files will be created and stored in this subdirectory as well. Whether <b>SETSOUND</b> is actually copied to the user's sound directory or left on the application's distribution CD, <i>please be sure that <b>SETSOUND</b> can be executed by the end user at any time after installation!</i> Otherwise, the user will be "stuck" with his/her original sound configuration choice, with no alternative but to re-install the application when upgrading or changing sound hardware. </p><p>The <b>SETSOUND.EXE</b> distributed from RAD Game Tools was bound with the Causeway DOS extender. This means that unless you rebuild <b>SETSOUND.EXE</b>, you don't need to distribute DOS4GW.EXE. Note that if you rebuild <b>SETSOUND.EXE</b>, you must either link it with an .EXE-bound DOS extender such as Causeway, DOS/4GW Professional or FlashTek X/32, or make sure that a copy of the DOS extender (DOS4GW.EXE) is available in the current path at the time <b>SETSOUND</b> is executed. </p><p>Applications which employ only one type of audio support (either digital audio or MIDI music) should be shipped with drivers of only the required type (.DIG or .MDI). <b>SETSOUND</b> will automatically reconfigure its menus to omit all references to the "unsupported" audio format. </p><p>Internationalization of the <b>SETSOUND</b> program is possible; however, the interactive nature of its text menu system requires modifications to text strings within <b>SETSOUND.C</b> itself. The file MSSDRVR.LST may be easily modified to support other languages, but it does not contain all of the text strings used by <b>SETSOUND</b>. Contact RAD Game Tools for information on how to modify the specially-formatted text strings used by <b>SETSOUND</b> to present its menus and dialog boxes. </p>
<p><a href="GLIB - Extended MIDIz2acf8.html">Next Topic (GLIB - Extended MIDI (XMIDI) Global Timbre Librarian)</a>  </p><p><a href="MIDIECHO for DOS - M8o0mlj.html">Previous Topic (MIDIECHO for DOS - MIDI Data Receiver and Interpreter)</a>  </p><p>
<br>
<b>Group:</b>
<a href="Miles Sound System Tq6hmqc.html">Miles Sound System Tools Reference</a><br>
<b>Related Sections:</b>
<a href="Distributing Miles whjcnrn.html">Distributing Miles with DOS Applications</a><br>
<b>Related Functions:</b>
<a href="AIL_install_DIG_INI.html">AIL_install_DIG_INI</a>, <a href="AIL_install_MDI_INI.html">AIL_install_MDI_INI</a>, <a href="AIL_read_INI.html">AIL_read_INI</a></p>
<p align=center>
<a href="mailto:Miles@radgametools.com">For technical support, e-mail Miles@radgametools.com</a>
<br>
<a href="http://www.radgametools.com/miles.htm?from=help6.1c">&#169; Copyright 1991-2001 RAD Game Tools, Inc. All Rights Reserved.</a>
</p>
<br>
</body>
</html>
