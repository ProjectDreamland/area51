<!-- This page was created with the RAD auto-doc generator. -->
<!doctype html public "-//w3c//dtd html 3.2 final//en">
<html>
<head>
<title>AIL_MIDI_to_XMI</title>
<meta http-equiv="content-type" content="text/html; charset=iso8859-1">
<meta name="ms.locale" content="en-us">
<meta name="description" content="converts Standard MIDI Format 0 and Format 1 sequence files to the Extended MIDI (XMIDI) format.">
<meta name="ms-hkwd" content="AIL_MIDI_to_XMI">
<link rel="stylesheet" title="default" href="reference.css" type="text/css" media="screen">
</head>
<body topmargin="0">
<table cellspacing=0 cellpadding=0 class=bar width=100% height=25>
<tr class=bar>
<td class=bar>
<i>&nbsp;<a href="index.html" class=trn>Miles Sound System SDK 6.1c</a></i>
</td>
</tr>
</table>
<h1>AIL_MIDI_to_XMI</h1>
<p>The function  <b>AIL_MIDI_to_XMI</b> converts Standard MIDI Format 0 and Format 1 sequence files to the Extended MIDI (XMIDI) format.</p>
<table width=100% cellspacing=0 class=pre>
<tr class=pre>
<td class=pre>
<pre><b><a href="S32.html" class=trn>S32</a> <a href="AIL_MIDI_to_XMI.html" class=trn>AIL_MIDI_to_XMI</a>(</b>
<b>&nbsp&nbsp<a href="void const P.html" class=trn>void const *</a>&nbsp</b><i>MIDI</i><b>,</b>
<b>&nbsp&nbsp<a href="U32.html" class=trn>U32</a>&nbsp</b><i>MIDI_size</i><b>,</b>
<b>&nbsp&nbsp<a href="void P.html" class=trn>void *</a>&nbsp*</b><i>XMI</i><b>,</b>
<b>&nbsp&nbsp<a href="U32.html" class=trn>U32</a>&nbsp*</b><i>XMI_size</i><b>,</b>
<b>&nbsp&nbsp<a href="S32.html" class=trn>S32</a>&nbsp</b><i>flags</i>
<b>);</b></pre>
</td>
</tr>
</table>
<h4>In Parameters</h4>
<dl>
<dt><i>MIDI</i></dt>
<dd>points to a file image containing standard MIDI data.</dd>
<dt><i>MIDI_size</i></dt>
<dd>is the length of the MIDI data.</dd>
<dt><i>flags</i></dt>
<dd>is zero, or one or more of the <a href="MILES_MIDI_TO_XMI_FLAGS.html">MILES_MIDI_TO_XMI_FLAGS</a>.</dd>
</dl>
<h4>Out Parameters</h4>
<dl>
<dt><i>XMI</i></dt>
<dd>should be the address of a " void* " pointer that will return with the pointer to the new XMIDI file image. This parameter can be NULL if you don't need it.</dd>
<dt><i>XMI_size</i></dt>
<dd>should be the address of an unsigned 32-bit integer that will return with the size of the new XMIDI file image. This parameter can be NULL if you don't need it.</dd>
</dl>
<h4>Returns</h4>
<p>1, if the call was successful, or 0 if the call failed.</p>
<h4>Discussion</h4>
<p>You must free the pointer returned in XMI with <a href="AIL_mem_free_lock.html">AIL_mem_free_lock</a>. </p><p> This function will convert Standard MIDI Format 0 and Format 1 sequence files to the Extended MIDI (XMIDI) format used by the Miles Sound System's Version 2.0 and Version 3.0 drivers. This conversion preserves all of the information needed to faithfully reproduce the sequence's original sound, while discarding elements of the MIDI storage format that are redundant, inefficient, or otherwise unnecessary for real-time playback. </p><p> An XMIDI file containing a single translated MIDI sequence often requires from 10% to 30% less storage space, and can be performed with substantially less background processing time. The MIDI data track is compressed mostly by the elimination of all Note Off messages, which is made possible by appending each note's duration in quantization intervals to its original Note On event. Track-specific MIDI meta-events (such as Sequence/Track Name, Instrument Name, and End of Track events) are stripped from the data stream, while a single End of Track meta-event (FF 2F 00) is placed at the end of the XMIDI sequence. </p><p> In addition to the prequantized MIDI event stream, the XMIDI sequence format also includes information such as master lists of Global Timbre Library entries needed by the sequence and target offsets for any Sequence Branch Index controllers present in the sequence. To aid developers with specialized needs, XMIDI files are stored in accordance with Electronic Arts' Interchange File Format (EA IFF 85) standard. For example, using conventional IFF access routines, MSS applications may load and interpret XMIDI timbre list (TIMB) chunks manually, using the data to prepare the synthesizer for immediate playback of sequences at a later time. </p><p> Refer to the Extended MIDI (XMIDI) Specification <i><a href="Extended MIDI IFF (.vk9ytc.html#Section">Section</a></i> for a detailed description of the XMIDI IFF structure.</p>
<p>
<br>
<b>Group:</b>
<a href="Utility Services.html">Utility Services</a><br>
<b>Related Sections:</b>
<a href="Extended MIDI IFF (.vk9ytc.html">Extended MIDI IFF (.XMI) Structure</a><br>
<b>Related Functions:</b>
<a href="AIL_init_sequence.html">AIL_init_sequence</a>, <a href="AIL_mem_free_lock.html">AIL_mem_free_lock</a>, <a href="AIL_sequence_position.html">AIL_sequence_position</a><br>
<b>Related Basic Types:</b>
<a href="MILES_MIDI_TO_XMI_FLAGS.html">MILES_MIDI_TO_XMI_FLAGS</a>, <a href="MILES_PREFERENCES.html">MILES_PREFERENCES</a>, <a href="S32.html">S32</a>, <a href="U32.html">U32</a>, <a href="void P.html">void *</a>, <a href="void const P.html">void const *</a><br>
<b>Related FAQs:</b>
<a href="How do I play an XMIuu17l1.html">How do I play an XMIDI or MIDI file?</a></p>
<p align=center>
<a href="mailto:Miles@radgametools.com">For technical support, e-mail Miles@radgametools.com</a>
<br>
<a href="http://www.radgametools.com/miles.htm?from=help6.1c">&#169; Copyright 1991-2001 RAD Game Tools, Inc. All Rights Reserved.</a>
</p>
<br>
</body>
</html>
