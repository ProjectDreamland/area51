<!-- This page was created with the RAD auto-doc generator. -->
<!doctype html public "-//w3c//dtd html 3.2 final//en">
<html>
<head>
<title>Aureal's A3D 2 Preferences</title>
<meta http-equiv="content-type" content="text/html; charset=iso8859-1">
<meta name="ms.locale" content="en-us">
<meta name="description" content="">
<meta name="ms-hkwd" content="Aureal's A3D 2 Preferences">
<link rel="stylesheet" title="default" href="reference.css" type="text/css" media="screen">
</head>
<body topmargin="0">
<table cellspacing=0 cellpadding=0 class=bar width=100% height=25>
<tr class=bar>
<td class=bar>
<i>&nbsp;<a href="index.html" class=trn>Miles Sound System SDK 6.1c</a></i>
</td>
</tr>
</table>
<h1>Aureal's A3D 2 Preferences</h1>
<h4>Discussion</h4>
<p> Unlike A3D 1, A3D 2.0 is a completely new API for Aureal sound cards. The API itself is fairly similar to DirectSound 3D, but is specific to Vortex 2 chipsets only. Aureal has said that eventually its API will available on any sound card, but as of this writing, this support is limited to simply passing through the coordinates to DirectSound 3D. </p><p>The primary reason for Aureal to publish its own API (well, other than the not-so-cool goal of being the proprietary Glide API of audio) is its support for the downloading of geometry to its drivers for simple raycasting to obtain reverb and occlusion characteristics. This is a neat idea in theory, but, in practice, RAD doesn't believe this is the best solution for 3D audio. </p><p>There are a lot of reasons we believe this, including complexity, lack of sound engineer control, the fact that the geometry that A3D 2 needs usually has to be constructed independently, direct DSP control is still unexposed, etc. So, we've created a good intermediate solution: run-time emulation of the EAX 2 room types, obstruction and occlusion features. Basically, our A3D 2 provider creates geometry on the fly that matches the EAX 2 reverb styles as closely as possible! </p><p>This feature allows you use the simple EAX room model and get hardware support for EAX, EAX 2, and A3D 2. We even support occlusions and obstructions without having to create a whole new set of A3D2-only geometry. To use this support, call the <a href="AIL_set_3D_room_type.html">AIL_set_3D_room_type</a>, <a href="AIL_set_3D_sample_oc325gaa.html">AIL_set_3D_sample_occlusion</a>, and <a href="AIL_set_3D_sample_ob7131va.html">AIL_set_3D_sample_obstruction</a> functions just like you do for EAX and EAX 2. </p><p>Of course, if you prefer, you can turn off all of these RAD features support and just pass geometry straight through to A3D 2. However, using the room styles and occlusions will get you almost perfect A3D 2 support with much, much less work. </p><p>And even better, this provides a good, compatible path to the future. Future versions of the Aureal drivers will support EAX and I3DL2 in hardware directly. Once Aureal releases this update, RAD will update the A3D2 provider to use this compatibility without you having to change a line of code! </p><p> The A3D 2 provider publishes many provider-level and sample-level preferences (for setting) and attributes (for reading) that allow game developers to set interesting room styles. </p><p>The easiest way to determine if you are using the A3D 2 M3D provider is to query the "A3D technology interface" attribute. If this query returns a value other than -1, then you know that you are running under an A3D 2 compatible sound card. See Exam3D.C for an example. </p><p> <b>The current A3D 2 provider-level preferences are:</b> </p><p><b>"A3D technology interface":</b> this read-only attribute returns the value of the lpA3d4 interface pointer. This attribute is used when you want to bypass the built-in Miles room-styles and download your own geometry directly. To do this, set the "Virtual geometry" preference to false (0), and then use this attribute value to call the A3D 2 geometry functions directly. </p><p><b>"Virtual geometry":</b> this preference controls whether Miles creates runtime geometry on-the-fly. If you want to control all of the geometry yourself, just set this preference to false (0). If you set this preference to true, then use the <a href="AIL_set_3D_room_type.html">AIL_set_3D_room_type</a> function to set the EAX room type. This preference accepts a 32-bit integer (S32). </p><p><b>"Flush timeout":</b> the preference controls how many times per second the geometry is updated around the listener. By default, all of the geometry is rebuilt 30 times per second. This preference accepts a 32-bit integer (S32). </p><p><b>"Output gain":</b> this preference controls overall volume of the 3D voices. This preference accepts a 32-bit float (F32) from 0.0 to 1.0 as a linear multiplier value. </p><p><b>"Render occlusions":</b> this read-only attribute returns whether the current hardware supports rendering occlusions. Under Miles, this doesn't matter much, because we provide occlusion and obstruction support for all providers (regardless of whether hardware support is available or not). This attribute returns a 32-bit integer (S32). </p><p><b>"Equalization":</b> this preference globally applies an equalization effect to all samples. It is similar in effect to a treble control on a stereo system and is completely independent of distance and gain. It is low-pass only and doesn't allow high frequencies to be boosted. If 0.0 < set value < 1.0, high frequencies are attenuated more as the set value approaches 0.0. The default setting of 1.0 means there is no additional high frequency attenuation applied to samples. This method is useful for simulating different environments. For example, the value 0.3 would make everything sound like it was underwater. This preference accepts a 32-bit float (F32) from 0.0 to 1.0. </p><p><b>"Maximum reflection delay":</b> this preference allows an application to specify the maximum time difference between the direct path and the longest reflection. The default of 0.3 seconds is adequate for modeling spaces up to the size of a football stadium. Reflections with delays greater than the time set by this method are clamped to the maximum delay but attenuation due to distance is computed normally. This preference accepts a 32-bit float (F32) in total seconds. </p><p><b>"Render first reflections":</b> this read-only attribute returns whether the current hardware supports rendering first reflections. This attribute returns a 32-bit integer (S32). </p><p><b>"Units per meter":</b> this preference is used to set the units per meter that your game uses. This is passed to both the underlying hardware and to control the size of the on-the-fly generated geometry. This preference accepts a 32-bit float (F32) as units per meter. </p><p><b>"Software mixing":</b> this preferences controls whether software based mixing is used to back up the hardware resources. The A3D 2 hardware is always used first, but if you use up all the hardware resources, this preference controls whether software is used to create 64 more voices. This preference accepts a 32-bit integer (S32). </p><p> <b>The A3D 2 sample-level preferences are:</b> </p><p><b>"Audibility":</b> this read-only attribute tells you how loud the current sample is after all effects have been applied. This attribute returns a 32-bit float (F32) from 0.0 to 1.0. </p><p><b>"Render mode":</b> this preference allows you to change the type and level of processing performed on a sample. By default, samples are spacialized and will render reflections and occlusions if geometry is being used. See the A3D 2 documentation for more details on this preference. This preference returns a 32-bit integer (S32). </p><p><b>"Occlusion factor":</b> this read-only attribute tells you how occluded the current sample is after the geometry has been applied. This attribute returns a 32-bit float (F32) from 0.0 to 1.0. </p><p><b>"Reflection gain scale":</b> this preference scales all reflection gains for this sample. This preference accepts a 32-bit float (F32) from 0.0 (no gain) to 1.0 (full gain - the default) as a linear multiplier value. </p><p><b>"Reflection delay scale":</b> this preference scales all reflection delays for this sample. It can be used to exaggerate the effect of reflections when set to greater that 1.0. Reflection delays are clamped at the value set in the "Maximum reflection delay" provider preference (which has a default of 0.3 seconds). This preference accepts a 32-bit float (F32) from 0.0 to 1.0 as a linear multiplier value. </p><p><b>"Equalization":</b> this preference applies an equalization effect to this sample. It is similar in effect to a treble control on a stereo system and is completely independent of distance and gain. It is low-pass only and doesn't allow high frequencies to be boosted. If 0.0 < set value < 1.0, high frequencies are attenuated more as the set value approaches 0.0. The default setting of 1.0 means there is no additional high frequency attenuation applied to this sample. This method is useful for simulating different environments. For example, the value 0.3 would make everything sound like it was underwater. This preference accepts a 32-bit float (F32) from 0.0 to 1.0. </p>
<p>
<br>
<b>Group:</b>
<a href="3D Digital Audio Services.html">3D Digital Audio Services</a><br>
<b>Related Functions:</b>
<a href="AIL_set_3D_room_type.html">AIL_set_3D_room_type</a>, <a href="AIL_set_3D_sample_ob7131va.html">AIL_set_3D_sample_obstruction</a>, <a href="AIL_set_3D_sample_oc325gaa.html">AIL_set_3D_sample_occlusion</a></p>
<p align=center>
<a href="mailto:Miles@radgametools.com">For technical support, e-mail Miles@radgametools.com</a>
<br>
<a href="http://www.radgametools.com/miles.htm?from=help6.1c">&#169; Copyright 1991-2001 RAD Game Tools, Inc. All Rights Reserved.</a>
</p>
<br>
</body>
</html>
