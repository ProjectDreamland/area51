<!-- This page was created with the RAD auto-doc generator. -->
<!doctype html public "-//w3c//dtd html 3.2 final//en">
<html>
<head>
<title>AIL_branch_index</title>
<meta http-equiv="content-type" content="text/html; charset=iso8859-1">
<meta name="ms.locale" content="en-us">
<meta name="description" content="moves a sequence's data pointers to the location of a specified XMIDI Sequence Branch Index controller.">
<meta name="ms-hkwd" content="AIL_branch_index">
<link rel="stylesheet" title="default" href="reference.css" type="text/css" media="screen">
</head>
<body topmargin="0">
<table cellspacing=0 cellpadding=0 class=bar width=100% height=25>
<tr class=bar>
<td class=bar>
<i>&nbsp;<a href="index.html" class=trn>Miles Sound System SDK 6.1c</a></i>
</td>
</tr>
</table>
<h1>AIL_branch_index</h1>
<p>The function  <b>AIL_branch_index</b> moves a sequence's data pointers to the location of a specified XMIDI Sequence Branch Index controller.</p>
<table width=100% cellspacing=0 class=pre>
<tr class=pre>
<td class=pre>
<pre><b><a href="void.html" class=trn>void</a> <a href="AIL_branch_index.html" class=trn>AIL_branch_index</a>(</b>
<b>&nbsp&nbsp<a href="HSEQUENCE.html" class=trn>HSEQUENCE</a>&nbsp</b><i>S</i><b>,</b>
<b>&nbsp&nbsp<a href="U32.html" class=trn>U32</a>&nbsp</b><i>marker</i>
<b>);</b></pre>
</td>
</tr>
</table>
<h4>In Parameters</h4>
<dl>
<dt><i>S</i></dt>
<dd>indicates the sequence to branch.</dd>
<dt><i>marker</i></dt>
<dd>is the XMIDI Sequence Branch Index controller value which specifies the branch target.</dd>
</dl>
<h4>Discussion</h4>
<p>You can also use the <a href="AIL_set_sequence_ms_rl07ba.html">AIL_set_sequence_ms_position</a> function to adjust a sequence's playback position. </p><p> An XMIDI Sequence Branch Index event is defined by an Extended MIDI controller of type 120 (78h). As MIDI input files are converted into XMIDI sequence files, the location of every Sequence Index event in a special IFF "private chunk" is recorded for quick reference by the <a href="AIL_branch_index.html">AIL_branch_index</a> function. </p><p> Up to 128 Sequence Branch Index events, with controller values from 0 to 127, may appear in each XMIDI sequence. If a given Sequence Branch Index marker_number appears in more than one track in the original MIDI file, the conversion process will terminate with an error message. </p><p> When a sequence's pointers are adjusted by this function, any active Sustain (Hold1) controllers are <i>not</i> released. Therefore, "stuck notes" are a possibility unless care is taken to make sure all sustain controllers are released before or after this function is called. <i>No controller values (volume, panpot, pitch, etc.) are affected</i>, so it is advisable to follow each Sequence Branch Index event with MIDI events which reset all relevant MIDI controllers to reasonable values for that point in the sequence. </p><p> Normally, Sequence Branch Index events should be placed on beat or measure boundaries in the MIDI sequence, and the <a href="AIL_branch_index.html">AIL_branch_index</a> function should be called immediately after a new beat or measure begins (as reported by <a href="AIL_sequence_position.html">AIL_sequence_position</a> ). Synchronizing branches in this way will ensure that future calls to <a href="AIL_sequence_position.html">AIL_sequence_position</a> return meaningful values for sequences in which branches have been taken. Another way to ensure the accuracy of beat and measure count values is to embed an XMIDI Control Change event with a controller type of 118 (76h); see <a href="AIL_sequence_position.html">AIL_sequence_position</a> for more information.</p>
<p>
<br>
<b>Group:</b>
<a href="XMIDI Services.html">XMIDI Services</a><br>
<b>Related Sections:</b>
<a href="XMIDI For Loop Contrqw4wba.html">XMIDI For Loop Controller (116)</a>, <a href="XMIDI Sequence Brancsrbaaa.html">XMIDI Sequence Branch (109)</a>, <a href="XMIDI Sequence Branc6vf3eb.html">XMIDI Sequence Branch Index (120)</a><br>
<b>Related Functions:</b>
<a href="AIL_branch_index.html">AIL_branch_index</a>, <a href="AIL_sequence_ms_position.html">AIL_sequence_ms_position</a>, <a href="AIL_sequence_position.html">AIL_sequence_position</a>, <a href="AIL_set_sequence_ms_rl07ba.html">AIL_set_sequence_ms_position</a><br>
<b>Related Basic Types:</b>
<a href="HSEQUENCE.html">HSEQUENCE</a>, <a href="MILES_PREFERENCES.html">MILES_PREFERENCES</a>, <a href="U32.html">U32</a>, <a href="void.html">void</a></p>
<p align=center>
<a href="mailto:Miles@radgametools.com">For technical support, e-mail Miles@radgametools.com</a>
<br>
<a href="http://www.radgametools.com/miles.htm?from=help6.1c">&#169; Copyright 1991-2001 RAD Game Tools, Inc. All Rights Reserved.</a>
</p>
<br>
</body>
</html>
