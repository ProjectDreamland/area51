<!-- This page was created with the RAD auto-doc generator. -->
<!doctype html public "-//w3c//dtd html 3.2 final//en">
<html>
<head>
<title>AIL_allocate_sequence_handle</title>
<meta http-equiv="content-type" content="text/html; charset=iso8859-1">
<meta name="ms.locale" content="en-us">
<meta name="description" content="searches for a free sequence handle and returns it to the application for use in the playback of XMIDI audio data.">
<meta name="ms-hkwd" content="AIL_allocate_sequence_handle">
<link rel="stylesheet" title="default" href="reference.css" type="text/css" media="screen">
</head>
<body topmargin="0">
<table cellspacing=0 cellpadding=0 class=bar width=100% height=25>
<tr class=bar>
<td class=bar>
<i>&nbsp;<a href="index.html" class=trn>Miles Sound System SDK 6.1c</a></i>
</td>
</tr>
</table>
<h1>AIL_allocate_sequence_handle</h1>
<p>The function  <b>AIL_allocate_sequence_handle</b> searches for a free sequence handle and returns it to the application for use in the playback of XMIDI audio data.</p>
<table width=100% cellspacing=0 class=pre>
<tr class=pre>
<td class=pre>
<pre><b><a href="HSEQUENCE.html" class=trn>HSEQUENCE</a> <a href="AIL_allocate_sequenc2icfaa.html" class=trn>AIL_allocate_sequence_handle</a>(</b>
<b>&nbsp&nbsp<a href="HMDIDRIVER.html" class=trn>HMDIDRIVER</a>&nbsp</b><i>mdi</i>
<b>);</b></pre>
</td>
</tr>
</table>
<h4>In Parameters</h4>
<dl>
<dt><i>mdi</i></dt>
<dd>specifies which XMIDI music driver is to play the sequence data associated with the sample handle.</dd>
</dl>
<h4>Returns</h4>
<p>A handle to an available sequence slot, or NULL if all sequence handles have already been allocated.</p>
<h4>Discussion</h4>
<p>Each XMIDI driver, when installed, is provided with a number of <i>sequence handles</i>. Sequence handles are reusable descriptors for application audio data at any moment in time, each instance of a playing XMIDI sequence must be associated with a sequence handle. The number of sequence handles allocated, hence the maximum number of HSEQUENCE sequence handles available from <a href="AIL_allocate_sequenc2icfaa.html">AIL_allocate_sequence_handle</a>, is determined by the <a href="MILES_PREFERENCES.html#MDI_SEQUENCES">MDI_SEQUENCES</a> preference. This value is normally 8, but can be set to any value by use of the <a href="AIL_set_preference.html">AIL_set_preference</a> function prior to driver installation. </p><p> After loading a digital audio driver, the application should allocate as many sequence handles as it will require, based on the maximum number of simultaneous XMIDI sequences needed. When an XMIDI sequence is to be played, the application calls <a href="AIL_sequence_status.html">AIL_sequence_status</a> for each of its allocated sequence handles, searching for one with the status <a href="MILES_SEQUENCE_STATUS.html#SEQ_DONE">SEQ_DONE</a>. This indicates that the system is either finished playing the last sequence assigned to the sequence handle, or that the sequence handle has been allocated but not yet used to play a sequence. Assuming an available sequence handle is found, the next step is to call <a href="AIL_init_sequence.html">AIL_init_sequence</a> to prepare the sequence handle for use with a new XMIDI sequence, followed by calls to set the playback volume or other playback information as desired. Playback of the sequence will begin when <a href="AIL_start_sequence.html">AIL_start_sequence</a> is called. </p><p> Upon termination of the application program, it is not necessary to return allocated sequence handles to the MSS system with <a href="AIL_release_sequence2icfaa.html">AIL_release_sequence_handle</a> calls. </p><p> Example files that use this function: XMIPLAY.C</p>
<p>
<br>
<b>Group:</b>
<a href="XMIDI Services.html">XMIDI Services</a><br>
<b>Related Functions:</b>
<a href="AIL_allocate_sequenc2icfaa.html">AIL_allocate_sequence_handle</a>, <a href="AIL_end_sequence.html">AIL_end_sequence</a>, <a href="AIL_init_sequence.html">AIL_init_sequence</a>, <a href="AIL_release_sequence2icfaa.html">AIL_release_sequence_handle</a>, <a href="AIL_sequence_status.html">AIL_sequence_status</a>, <a href="AIL_set_preference.html">AIL_set_preference</a>, <a href="AIL_start_sequence.html">AIL_start_sequence</a>, <a href="AIL_stop_sequence.html">AIL_stop_sequence</a><br>
<b>Related Basic Types:</b>
<a href="HMDIDRIVER.html">HMDIDRIVER</a>, <a href="HSEQUENCE.html">HSEQUENCE</a>, <a href="MILES_PREFERENCES.html">MILES_PREFERENCES</a>, <a href="MILES_SEQUENCE_STATUS.html">MILES_SEQUENCE_STATUS</a><br>
<b>Related FAQs:</b>
<a href="How do I play an XMIuu17l1.html">How do I play an XMIDI or MIDI file?</a></p>
<p align=center>
<a href="mailto:Miles@radgametools.com">For technical support, e-mail Miles@radgametools.com</a>
<br>
<a href="http://www.radgametools.com/miles.htm?from=help6.1c">&#169; Copyright 1991-2001 RAD Game Tools, Inc. All Rights Reserved.</a>
</p>
<br>
</body>
</html>
