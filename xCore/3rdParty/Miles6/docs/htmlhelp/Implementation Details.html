<!-- This page was created with the RAD auto-doc generator. -->
<!doctype html public "-//w3c//dtd html 3.2 final//en">
<html>
<head>
<title>Implementation Details</title>
<meta http-equiv="content-type" content="text/html; charset=iso8859-1">
<meta name="ms.locale" content="en-us">
<meta name="description" content="">
<meta name="ms-hkwd" content="Implementation Details">
<link rel="stylesheet" title="default" href="reference.css" type="text/css" media="screen">
</head>
<body topmargin="0">
<table cellspacing=0 cellpadding=0 class=bar width=100% height=25>
<tr class=bar>
<td class=bar>
<i>&nbsp;<a href="index.html" class=trn>Miles Sound System SDK 6.1c</a></i>
</td>
</tr>
</table>
<h1>Implementation Details</h1>
<h4>Discussion</h4>
<p> MSSCHTC.CPP and MSSCHTS.CPP both rely heavily on multithreading to keep the various compression and decompression processes out of each others' way. Most of the execution time in each thread is spent waiting for data to become available from either WinSock or the mixer. The Voxware ASI codecs are guaranteed to be 100% thread-safe, but especially on the server side with two threads per client, it makes sense to be extremely careful with any shared variables and data structures to avoid deadlocks. MSSCHTS.CPP's mixer loop, which runs in the same thread as <i>WinMain</i>, uses CQueue, a rudimentary circular-buffer template, to isolate data being received and transmitted to each client. </p><p>Note that the data structures and synchronization methods in MSSCHTS and MSSCHTC have been chosen primarily for simplicity, and are intended more for illustrative purposes than as an attempt to wring every last cycle of performance out of the Win32 thread scheduler and WinSock API. </p>
<p><a href="Bandwidth Optimizatifdgbrv.html">Next Topic (Bandwidth Optimization and Channel Reliability Tips)</a>  </p><p><a href="Mixing the Client So2v852a.html">Previous Topic (Mixing the Client Sound Data on the Server)</a>  </p><p>
<br>
<b>Group:</b>
<a href="Implementing Voice Chat.html">Implementing Voice Chat</a></p>
<p align=center>
<a href="mailto:Miles@radgametools.com">For technical support, e-mail Miles@radgametools.com</a>
<br>
<a href="http://www.radgametools.com/miles.htm?from=help6.1c">&#169; Copyright 1991-2001 RAD Game Tools, Inc. All Rights Reserved.</a>
</p>
<br>
</body>
</html>
